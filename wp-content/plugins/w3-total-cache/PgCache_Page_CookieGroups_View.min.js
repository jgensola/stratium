jQuery(function(){function a(){if(!jQuery("#cookiegroups li").size()){jQuery("#cookiegroups_empty").show()}else{jQuery("#cookiegroups_empty").hide()}}jQuery("#w3tc_cookiegroup_add").click(function(){var e=prompt('Enter group name (only "0-9", "a-z", "_" symbols are allowed).');if(e!==null){e=e.toLowerCase();e=e.replace(/[^0-9a-z_]+/g,"_");e=e.replace(/^_+/,"");e=e.replace(/_+$/,"");if(e){var d=false;jQuery(".cookiegroup_name").each(function(){if(jQuery(this).html()==e){alert("Group already exists!");d=true;return false}});if(!d){var c=jQuery('<li id="cookiegroup_'+e+'"><table class="form-table"><tr><th>Group name:</th><td><span class="cookiegroup_number">'+(jQuery("#cookiegroups li").size()+1)+'.</span> <span class="cookiegroup_name">'+e+'</span> <input type="button" class="button cookiegroup_delete" value="Delete group" /></td></tr><tr><th><label for="cookiegroup_'+e+'_enabled">Enabled:</label></th><td><input id="cookiegroup_'+e+'_enabled" type="checkbox" name="cookiegroups['+e+'][enabled]" value="1" checked="checked" /></td></tr><tr><th><label for="cookiegroup_'+e+'_cache">Cache:</label></th><td><input id="cookiegroup_'+e+'_cache" type="checkbox" name="cookiegroups['+e+'][cache]" value="1" checked="checked" /></td></tr><tr><th><label for="cookiegroups_'+e+'_cookies">Cookies:</label></th><td><textarea id="cookiegroups_'+e+'_cookies" name="cookiegroups['+e+'][cookies]" rows="10" cols="50"></textarea><br /><span class="description">Specify the cookies for this group. Values like \'cookie\', \'cookie=value\', and cookie[a-z]+=value[a-z]+are supported. Remember to escape special characters like spaces, dots or dashes with a backslash. Regular expressions are also supported.</span></td></tr></table></li>');var b=c.find("select");jQuery("#cookiegroups").append(c);a();window.location.hash="#cookiegroup_"+e;c.find("textarea").focus()}}else{alert("Empty group name!")}}});jQuery(".w3tc_cookiegroup_delete").live("click",function(){if(confirm("Are you sure want to delete this group?")){jQuery(this).parents("#cookiegroups li").remove();a();w3tc_beforeupload_bind()}});a();if(jQuery.ui&&jQuery.ui.sortable){jQuery("#cookiegroups").sortable({axis:"y",stop:function(){jQuery("#cookiegroups").find(".cookiegroup_number").each(function(b){jQuery(this).html((b+1)+".")})}})}});