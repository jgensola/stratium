jQuery(function(){function b(){if(!jQuery("#cookiegroups li").size()){jQuery("#cookiegroups_empty").show()}else{jQuery("#cookiegroups_empty").hide()}}jQuery("#w3tc_cookiegroup_add").click(function(){var f=prompt('Enter group name (only "0-9", "a-z", "_" symbols are allowed).');if(f!==null){f=f.toLowerCase();f=f.replace(/[^0-9a-z_]+/g,"_");f=f.replace(/^_+/,"");f=f.replace(/_+$/,"");if(f){var g=false;jQuery(".cookiegroup_name").each(function(){if(jQuery(this).html()==f){alert("Group already exists!");g=true;return false}});if(!g){var h=jQuery('<li id="cookiegroup_'+f+'"><table class="form-table"><tr><th>Group name:</th><td><span class="cookiegroup_number">'+(jQuery("#cookiegroups li").size()+1)+'.</span> <span class="cookiegroup_name">'+f+'</span> <input type="button" class="button cookiegroup_delete" value="Delete group" /></td></tr><tr><th><label for="cookiegroup_'+f+'_enabled">Enabled:</label></th><td><input id="cookiegroup_'+f+'_enabled" type="checkbox" name="cookiegroups['+f+'][enabled]" value="1" checked="checked" /></td></tr><tr><th><label for="cookiegroup_'+f+'_cache">Cache:</label></th><td><input id="cookiegroup_'+f+'_cache" type="checkbox" name="cookiegroups['+f+'][cache]" value="1" checked="checked" /></td></tr><tr><th><label for="cookiegroups_'+f+'_cookies">Cookies:</label></th><td><textarea id="cookiegroups_'+f+'_cookies" name="cookiegroups['+f+'][cookies]" rows="10" cols="50"></textarea><br /><span class="description">Specify the cookies for this group. Values like \'cookie\', \'cookie=value\', and cookie[a-z]+=value[a-z]+are supported. Remember to escape special characters like spaces, dots or dashes with a backslash. Regular expressions are also supported.</span></td></tr></table></li>');var a=h.find("select");jQuery("#cookiegroups").append(h);b();window.location.hash="#cookiegroup_"+f;h.find("textarea").focus()}}else{alert("Empty group name!")}}});jQuery(".w3tc_cookiegroup_delete").live("click",function(){if(confirm("Are you sure want to delete this group?")){jQuery(this).parents("#cookiegroups li").remove();b();w3tc_beforeupload_bind()}});b();if(jQuery.ui&&jQuery.ui.sortable){jQuery("#cookiegroups").sortable({axis:"y",stop:function(){jQuery("#cookiegroups").find(".cookiegroup_number").each(function(a){jQuery(this).html((a+1)+".")})}})}});